{% extends 'base.html' %}
{% load static %}
{% block content %}
    <div class="col d-flex flex-column overflow-x-hidden h-100 w-100 p-4" id="content">
        <div class="m-auto h-100 w-100 gap-3 p-3">
            <div class="container mx-auto flex-wrap w-100 w-lg-75">
                <div class="col-12 col-md-6 h-100">
                    <div class="pe-2 position-relative">

                        {% for image in product.images %}
                            <div class="mySlides">
                                <img src="{{ image.image.url }}" style="width:100%">
                            </div>
                        {% endfor %}

                        <!-- Next and previous buttons -->
                        <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
                        <a class="next" onclick="plusSlides(1)">&#10095;</a>

                        <!-- Image text -->
                        <div class="caption-container">
                            <p id="caption"></p>
                        </div>

                        <!-- Thumbnail images -->
                        <div class="row">
                            {% for image in product.images %}
                                <div class="column">
                                <img class="demo cursor" src="{{ image.image.url }}" style="width:100%"
                                     onclick="currentSlide(1)" alt="{{ image.name }}">
                            </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>
                <div class="col-12 col-md-6 d-flex fit-content flex-wrap px-2">
                    <div class="col-12">
                        <h1 class="primary-color">{{ product.name }}</h1>
                    </div>
                    <div class="col-12">
                        <span class="fa fa-star fa-lg checked"></span>
                        <span class="fa fa-star fa-lg checked"></span>
                        <span class="fa fa-star fa-lg checked"></span>
                        <span class="fa fa-star fa-lg unchecked"></span>
                        <span class="fa fa-star fa-lg unchecked"></span>
                    </div>
                    <div class="col-12 my-2">
                        {% include 'update_favorite.html' with product_id=product.productId %}
                        <p class="primary-color">
                            {{ product.description }}
                        </p>
                    </div>
                    <div class="col-12 d-flex pe-5">
                        <h3 class="col-5 primary-color"><span>Price:</span> ${{ product.price }}</h3>
                        <input class="col-4 btn p-0 btn-primary" type="number" id='quantity' placeholder="Quantity"/>
                    </div>
                    <div class="col-12 d-flex mt-3">
                        <button class="col-12 btn-primary btn" id="add_to_cart"
                                value="{{ product.productId }}">Add To Cart</button>
                    </div>
                    <div>
                    <table class="primary-color">
                        <tr>
                            <th>Name</th>
                            <th>Rating</th>
                            <th>Comment</th>
                            <th>Date</th>
                            {% for r in reviews %}
                                <tr>
                                    <td>{{ r.reviewerId }}</td>
                                    <td>{{ r.rating }}</td>
                                    <td>{{ r.comment }}</td>
                                    <td>{{ r.reviewDate }}</td>
                                </tr>
                            {% endfor %}
                        </tr>
                    </table>

                    </div>
                </div>

            </div>
        </div>
    </div>
    <script src="{% static 'js/product-detail.js' %}"></script>
{% endblock %}

